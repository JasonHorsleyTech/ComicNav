// https://github.com/JasonHorsleyTech/ComicNav - MIT
class ComicNav{detach(){}
attach(){this.listener=document.addEventListener("keydown",(event)=>{if(event.keyCode===37&&this.requiredKeyPressed&&this.prevURL&&this.prevURL!==window.location.href){window.location.href=this.prevURL}else if(event.keyCode===39&&this.requiredKeyPressed&&this.nextURL&&this.nextURL!==window.location.href){window.location.href=this.nextURL}else if(event.keyCode===this.props.requiredKey){this.requiredKeyPressed=!0}})}
getSiteSpecifics(site){let defaultBySite={"samandfuzzy":{nextQuery:".next-page a",prevQuery:".prev-page a",},"xkcd":{prevQuery:"a[rel=prev]",nextQuery:"a[rel=prev]",},"penny-arcade":{prevQuery:".btn.btnPrev",nextQuery:".btn.btnNext",},"qwantz":{prevQuery:"a[rel=prev]",nextQuery:"a[rel=prev]",},"asofterworld":{prevQuery:"#previous a",nextQuery:"#next a",},"octopuspie":{prevQuery:"a[rel=prev]",nextQuery:"a[rel=next]",},"pbfcomics":{prevQuery:"a[rel=prev]",nextQuery:"a[rel=next]",}};if(defaultBySite[site]){return defaultBySite[site]}else{return{prevQuery:"a[rel=prev]",nextQuery:"a[rel=next]",}}}
constructor(site,preferences){try{if(!site&&!preferences){throw 1}
this.site=site;let defaults=this.getSiteSpecifics(site.toLowerCase());this.props=Object.assign(defaults,preferences);this.listener=!1;let nextAnchor=document.querySelector(this.props.nextQuery);let prevAnchor=document.querySelector(this.props.prevQuery);if(nextAnchor===null&&prevAnchor===null){throw 2}
this.nextURL=(nextAnchor&&nextAnchor.href)?nextAnchor.href:!1;this.prevURL=(prevAnchor&&prevAnchor.href)?prevAnchor.href:!1;this.requiredKeyPressed=(typeof this.props.requiredKey=="number")?!1:!0;this.attach()}catch(errCode){console.error("ComicNav.js Constructor error: ");switch(errCode){case 1:console.info("Missing site and preferences arguments. For usage, please checkout");console.info("https://github.com/JasonHorsleyTech/ComicNav");break;case 2:console.error("Next/Previous elements not found on site, or both are missing href values. Using");console.error("this.props.nextQuery: "+this.props.nextQuery);console.error("this.props.prevQuery: "+this.props.prevQuery);break;default:console.info("Not sure what happened, but one of us did something wrong.");console.info("https://github.com/JasonHorsleyTech/ComicNav")}}}}