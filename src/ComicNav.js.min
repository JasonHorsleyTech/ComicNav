class ComicNav{detach(){}
attach(){this.listener=document.addEventListener("keydown",(event)=>{if(event.keyCode===37&&this.requiredKeyPressed&&this.prevURL&&this.prevURL!==window.location.href){window.location.href=this.prevURL}else if(event.keyCode===39&&this.requiredKeyPressed&&this.nextURL&&this.nextURL!==window.location.href){window.location.href=this.nextURL}else if(event.keyCode===this.props.requiredKey){this.requiredKeyPressed=!0}})}
getSiteSpecifics(site){let defaultBySite={"samandfuzzy":{nextQuery:".next-page a",prevQuery:".prev-page a",requiredKey:40},"xkcd":{prevQuery:"a[rel=prev]",nextQuery:"a[rel=prev]",},"penny-arcade":{prevQuery:".btn.btnPrev",nextQuery:".btn.btnNext",},"qwantz":{prevQuery:"a[rel=prev]",nextQuery:"a[rel=prev]",},"asofterworld":{prevQuery:"#previous a",nextQuery:"#next a",},"octopuspie":{prevQuery:"a[rel=prev]",nextQuery:"a[rel=next]",},"pbfcomics":{prevQuery:"a[rel=prev]",nextQuery:"a[rel=next]",}};if(defaultBySite[site]){return defaultBySite[site]}else{return{prevQuery:"a[rel=prev]",nextQuery:"a[rel=next]",}}}
constructor(site,preferences){if(!site&&!preferences){console.info("Missing site and preferences arguments. For usage, please checkout");console.info("https://github.com/JasonHorsleyTech/ComicNav")}else{this.site=site;this.props=Object.assign(getSiteSpecifics(site),preferences)}
this.listener=!1;let nextAnchor=document.querySelector(this.props.nextQuery);let prevAnchor=document.querySelector(this.props.prevQuery);if(nextAnchor===null||prevAnchor===null){let notFound;if(nextAnchor===null&&prevAnchor===null){notFound="elements "+this.props.nextQuery+" and "+this.props.prevQuery}else{notFound=(nextAnchor===null)?"element "+this.props.nextQuery:"element "+this.props.prevQuery}
console.error("ComicNav.js -- Cannot attach arrow navigation, "+notFound+" not found on site")}else{this.nextURL=(nextAnchor.href)?nextAnchor.href:!1;this.prevURL=(prevAnchor.href)?prevAnchor.href:!1;this.requiredKeyPressed=(typeof this.props.requiredKey=="number")?!1:!0;this.attach()}}}